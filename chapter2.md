## 第 2 章 Web アクセシビリティの基礎

### 2-1. 基礎となるマシンリーダブルを理解する

- アイコンのみのボタンはコンテンツやセマンティクス（意味）を読み取れることが重要
- [読み上げられる実装](https://kitta81.github.io/accessibility/readable/button/) と[読み上げられない実装](https://kitta81.github.io/accessibility/nonreadable/button/) がある
  - 読み上げられる
    - button タグを使用
    - 画像には img タグを使用して、alt を属性を付与
  - 読み上げられない
    - div タグを使用
    - 画像は svg タグ
- チェックボックスも選択したかどうかが分からないケースもある
  - input タグを使って、type="checkbox" checked="cheked"を付与してやれば OK
  - span タグだけで作ると、チェックボックスであることや、チェックされていることが読み取れない
- WAI-ARIA で補完する
  - HTML の要素や属性には限りがあり、アプリケーション独自のセマンティクスが不足する
  - それを補完するのが WAI-ARIA
    - 役割を補完する WAI-ARIA ロール
    - 状態やプロパティを補完する WAI-ARIA ステート、プロパティ
  - タブ UI をは HTML ネイティブだけでは構成できない
    - WAI-ARIA で表現することが可能
  - 読み上げられないボタンやチェックボックスも、WAI-ARIA で補完することが可能
    - ただし、HTML ネイティブの方が優れているので、可能な限り HTML ネイティブで実装する
      - 例えば、span タグに role="button"を付与してもキーボード操作ができない
    - あくまでも補完のために用いる
- AOM（アクセシビリティオブジェクトモデル）
  - HTML から DOM（ドキュメントオブジェクトモデル）を生成
  - CSS から CSS OM を生成
    - この 2 つから AOM を生成する
  - AOM を操作する WAI-ARIA
    - Name プロパティ
    - Role プロパティ
    - Description プロパティ
    - Expanded プロパティ
    - Check プロパティ
    - Disabled プロパティ
    - などなど
  - 優先順位
    - WAI-ARIA > CSS > HTML の順に優先される

### 2-2. キーボード操作の基本

- ブラウザ上で以下のようなことができる
  - Tab キーを押したらフォームの入力欄などにフォーカス
  - スペースキーやエンターキーを押したら実行
  - 上下左右キーで選択
- マウスは？
  - 目と手を連動しないと操作できない
  - 画面を見ることのできないユーザーには操作できない
    - スクリーンリーダー、キーボードで操作する
- メリット
  - マウスが使えない人でも操作できる
  - キーボードとマウスの持ち替えが不要で効率的、正確
    - 支援技術ユーザーにとっての負担が大きい
      - ポップアップやドロップダウンを Tab キーや上下左右キーで選択する
- よくある事例
  - インタラクティブ要素を使用していないので、キーボード操作できない
    - href を持つ a タグ
    - button
    - select
    - などなど
    - JavaScript でクリックイベントを付与しても、キーボード操作できない
      - div タグのボタン
        - WAI-ARIA で role="button"を付けてもキーボード操作できない
    - 改善例：インタラクティブ要素を使用する
  - インタラクティブ要素を使用しているけど、隠している
    - CSS で dispay: none を付与している
    - 改善例：tabindex を使用する
  - マウスでしか表示されない
    - マウスオーバーで表示される要素
  - キーボード操作の現在位置がわからない
    - CSS でフォーカスを非表示にしている
